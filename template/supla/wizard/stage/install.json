{
  "api_version": "v1",
  "title": "{{SUPLA_NAME}}",
  "wizard": [
    {
      "title": "{{SUPLA_CONFIGURE}}",
      "schema": {
        "cloud_domain": {
          "type": "string",
          "title": "Domain name or IP address",
          "description": "The address where the SUPLA Cloud will be accessible",
          "required": true,
          "minLength": 5,
          "maxLength": 32
        },
        "first_user_username": {
          "type": "string",
          "title": "First user e-mail",
          "description": "E-mail of the first user to create in SUPLA Cloud",
          "required": true,
          "minLength": 4,
          "maxLength": 32
        },
        "first_user_password": {
          "type": "string",
          "title": "First user password",
          "description": "",
          "required": true,
          "minLength": 4,
          "maxLength": 32
        },
        "http_port": {
          "type": "integer",
          "title": "HTTP Port",
          "required": true,
          "maximum": 65535
        },
        "https_port": {
          "type": "integer",
          "title": "HTTPS Port",
          "required": true,
          "maximum": 65535
        }
      },
      "form": [
        "*"
      ]
    },
    {
      "title": "{{SUPLA_CONFIGURE}}",
      "schema": {
        "db_password": {
          "type": "string",
          "title": "Database password",
          "description": "",
          "required": true
        },
        "secret": {
          "type": "string",
          "title": "Secret",
          "description": "Make it strong.<div>You can use a <a href=\"https://www.random.org/passwords/\" target=\"_blank\">password generator</a> to generate these values.</div>",
          "required": true
        }
      },
      "form": [
        "*"
      ]
    },
    {
      "title": "{{SUPLA_CONFIGURE}}",
      "schema": {
        "protocol": {
          "type": "string",
          "title": "Protocol",
          "description": "Either http or https",
          "required": true,
          "minLength": 4,
          "maxLength": 5
        }
      },
      "form": [
        "*"
      ]
    }
  ],
  "binding": {
    "type": "yaml",
    "file": "docker-compose.yml",
    "data": {
      "cloud_domain": [
        "supla-cloud.environment.CLOUD_DOMAIN"
      ],
      "first_user_username": [
        "supla-cloud.environment.FIRST_USER_EMAIL"
      ],
      "first_user_password": [
        "supla-cloud.environment.FIRST_USER_PASSWORD"
      ],
      "http_port": [
        "supla-cloud.ports[0]"
      ],
      "https_port": [
        "supla-cloud.ports[1]"
      ],
      "db_password": [
        "supla-cloud.environment.DB_PASSWORD",
        "supla-server.environment.DB_PASSWORD",
        "supla-db.environment.MYSQL_ROOT_PASSWORD",
        "supla-db.environment.MYSQL_PASSWORD"
      ],
      "secret": [
        "supla-cloud.environment.SECRET"
      ],
      "protocol": [
        "sulpa-cloud.environment.SUPLA_PROTOCOL"
      ]
    }
  }
}
